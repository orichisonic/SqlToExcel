<?xml version="1.0" encoding="UTF-8" ?>
<xs:schema 
xmlns="http://www.centaline.com.cn/QuickQuery/DataQuery" 
xmlns:xs="http://www.w3.org/2001/XMLSchema" 
xmlns:vs="http://schemas.microsoft.com/Visual-Studio-Intellisense" 
targetNamespace="http://www.centaline.com.cn/QuickQuery/DataQuery" 
elementFormDefault="qualified" 
attributeFormDefault="unqualified" 
vs:friendlyname="QuickQuery Configuration" 
vs:ishtmlschema="false" 
vs:iscasesensitive="true"
vs:requireattributequotes="true"
vs:defaultnamespacequalifier="" 
vs:defaultnsprefix="">
  
	<xs:annotation>
		<xs:documentation>QuickQuery DataQuery XML Schema Definition</xs:documentation>
	</xs:annotation>

	<xs:simpleType name="BooleanTypes">
		<xs:restriction base="xs:string">
			<xs:enumeration value="true"/>
			<xs:enumeration value="false"/>
		</xs:restriction>
	</xs:simpleType>
  
  <xs:simpleType name="ValidationTypes">
		<xs:restriction base="xs:string">
      <xs:enumeration value="None"/>
			<xs:enumeration value="Regex"/>
		</xs:restriction>
	</xs:simpleType>

	<xs:simpleType name="DictionaryType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Custom"/>
			<xs:enumeration value="SysTem"/>
		</xs:restriction>
	</xs:simpleType>

	<xs:complexType name="Dictionary">
		<xs:attribute name="Id" type="xs:string" use="required"/>
		<xs:attribute name="ObjectName" type="xs:string"/>
		<xs:attribute name="Type" type="DictionaryType" use="required"/>
	</xs:complexType>

	<xs:complexType name="Dictionarys">
		<xs:sequence>
			<xs:element name="Dictionary" type="Dictionary" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>

	<xs:simpleType name="FormatterCreateType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="ByRef"/>
			<xs:enumeration value="ByClass"/>
		</xs:restriction>
	</xs:simpleType>

	<xs:complexType name="Formatter">
		<xs:sequence>
			<xs:element name="Properties" minOccurs="0" maxOccurs="1">
				<xs:complexType>
						<xs:sequence>
							<xs:element name="Property" minOccurs="1" maxOccurs="unbounded">
								<xs:complexType>
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="Name" type="xs:string"/>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
		<xs:attribute name="Id" type="xs:string" use="required"/>
		<xs:attribute name="Class" type="xs:string"/>
		<xs:attribute name="Type" type="FormatterCreateType" use="required"/>
		<xs:attribute name="Ref" type="xs:string"/>
	</xs:complexType>

	<xs:complexType name="Formatters">
		<xs:sequence>
			<xs:element name="Formatter" type="Formatter" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:simpleType name="SearchType">		
		<xs:restriction base="xs:string">
			<xs:enumeration value="EQ"/>
			<xs:enumeration value="IN"/>
			<xs:enumeration value="GTE"/>
			<xs:enumeration value="LTE"/>
			<xs:enumeration value="LIKE"/>
			<xs:enumeration value="ISNULL"/>
			<xs:enumeration value="GT"/>
			<xs:enumeration value="LT"/>
			<xs:enumeration value="NOTIN"/>
			<xs:enumeration value="ISNOTNULL"/>
			<xs:enumeration value="BETWEEN"/>
		</xs:restriction>
	</xs:simpleType>

	<xs:simpleType name="DataType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Int"/>
			<xs:enumeration value="Decimal"/>
			<xs:enumeration value="DateTime"/>
			<xs:enumeration value="Text"/>
			<xs:enumeration value="NText"/>
			<xs:enumeration value="Char"/>
			<xs:enumeration value="NChar"/>
			<xs:enumeration value="VarChar"/>
			<xs:enumeration value="NVarChar"/>
			<xs:enumeration value="UniqueIdentifier"/>
			<xs:enumeration value="Bit"/>
		</xs:restriction>
	</xs:simpleType>

	<xs:simpleType name="DataSize">
		<xs:restriction base="xs:integer">
			<xs:minInclusive value="1"/>
			<xs:maxInclusive value="8000"/>
		</xs:restriction>
	</xs:simpleType>

	<xs:complexType name="Condition">
		<xs:attribute name="Field" type="xs:string" use="required"/>
		<xs:attribute name="Name" type="xs:string" use="required"/>
		<xs:attribute name="Label" type="xs:string"/>
		<xs:attribute name="SearchType" type="SearchType" use="required"/>
		<xs:attribute name="ShowType" type="xs:string"/>
		<xs:attribute name="ShowCallBack" type="xs:string"/>
		<xs:attribute name="DefaultValue" type="xs:string"/>
		<xs:attribute name="DataType" type="DataType" use="required"/>
		<xs:attribute name="Size" type="DataSize" use="required"/>
    <xs:attribute name="Required" type="BooleanTypes" use="required"/>
    <xs:attribute name="ValidationType" type="ValidationTypes" use="required"/>
    <xs:attribute name="VerifyExpression" type="xs:string"/>
	</xs:complexType>

	<xs:complexType name="Conditions">
		<xs:sequence>
			<xs:element name="Condition" type="Condition" minOccurs="0"  maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:simpleType name="ValueConvertType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Dict"/>
			<xs:enumeration value="Formatter"/>
		</xs:restriction>
	</xs:simpleType>

	<xs:complexType name="Argument">
		<xs:attribute name="Name" type="xs:string" use="required"/>
		<xs:attribute name="ValueConverter" type="xs:string"/>
		<xs:attribute name="ValueConvertType" type="ValueConvertType"/>
    <xs:attribute name="Required" type="BooleanTypes" use="required"/>
    <xs:attribute name="ValidationType" type="ValidationTypes" use="required"/>
    <xs:attribute name="VerifyExpression" type="xs:string"/>
	</xs:complexType>

	<xs:complexType name="Arguments">
		<xs:sequence>
			<xs:element name="Argument" type="Argument" minOccurs="0"  maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:complexType name="Sql">
		<xs:simpleContent>
			<xs:extension base="xs:string">
			</xs:extension>     
		</xs:simpleContent>
	</xs:complexType>

	<xs:complexType name="QuerySql">
		<xs:sequence>
      <xs:element name="CountSql" type="Sql"/>
			<xs:element name="BaseSql" type="Sql"/>
			<xs:element name="GroupSql" type="Sql"/>
			<xs:element name="OrderBySql" type="Sql"/>
			<xs:element name="WhereSql" type="Sql"/>
		</xs:sequence>
	</xs:complexType>
	
	<xs:simpleType name="ColumnType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Both"/>
			<xs:enumeration value="Virtual"/>
      <xs:enumeration value="JoinQuickQuery"/>
      <xs:enumeration value="JoinQuery"/>
		</xs:restriction>
	</xs:simpleType>

  <xs:simpleType name="VirtualColumnDataSourceType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Column"/>
			<xs:enumeration value="Row"/>
      <xs:enumeration value="Result"/>
		</xs:restriction>
	</xs:simpleType>
  
	<xs:complexType name="Column">
		<xs:attribute name="Type" type="ColumnType" use="required"/>
		<xs:attribute name="Index" type="xs:string"/>
		<xs:attribute name="Name" type="xs:string" use="required"/>
		<xs:attribute name="Format" type="xs:string"/>
		<xs:attribute name="ValueConverter" type="xs:string"/>
		<xs:attribute name="ValueConvertType" type="ValueConvertType"/>
		<xs:attribute name="ReferenceColumn" type="xs:string"/>
    <xs:attribute name="QuickQueryId" type="xs:string"/>
    <xs:attribute name="VirtualColumnDataSourceType" type="VirtualColumnDataSourceType"/>
	</xs:complexType>

	<xs:complexType name="Columns">
		<xs:sequence>
			<xs:element name="Column" type="Column" minOccurs="1"  maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>

	<xs:complexType name="Grid">
		<xs:sequence>
			<xs:element name="Columns" type="Columns"/>
		</xs:sequence>
	</xs:complexType>


  <xs:simpleType name="CountSqlType">
    <xs:restriction base="xs:string">
      <xs:enumeration value="Basic"/>
      <xs:enumeration value="Custom"/>
      <xs:enumeration value="Auto"/>
    </xs:restriction>
  </xs:simpleType>

	<xs:complexType name="DataQuery">
		<xs:sequence>
			<xs:element name="Conditions" type="Conditions" minOccurs="0"  maxOccurs="unbounded" />
			<xs:element name="Arguments" type="Arguments" minOccurs="0"  maxOccurs="unbounded" />
			<xs:element name="QuerySql" type="QuerySql" />
			<xs:element name="Grid" type="Grid" />
		</xs:sequence>
		<xs:attribute name="Id" type="xs:string"/>
		<xs:attribute name="CacheCount" type="BooleanTypes"/>
    <xs:attribute name="CacheCountSecond" type="xs:integer"/>
    <xs:attribute name="CountSqlType" type="CountSqlType"/>
	</xs:complexType>

	<xs:element name="Query">
		<xs:complexType>
			<xs:sequence>
				<xs:element name="Dictionarys" type="Dictionarys" minOccurs="0" />
				<xs:element name="Formatters" type="Formatters" minOccurs="0" />
				<xs:element name="DataQuery" type="DataQuery" minOccurs="1"  maxOccurs="unbounded" />
			</xs:sequence>
			<xs:attribute name="Id" type="xs:string"/>
	  </xs:complexType>
	</xs:element>

</xs:schema>
